---
title: 'Syncing Adobe Launch/Tags with Github - Part 1: Setup'
date: '2023-04-30'
tags: ['adobe launch', 'adobe tags', 'javascript', 'github', 'automation']
draft: false
summary: 'How to use Github to build, sync, & deploy custom code data elements part 1'
---

## Down the rabbit hole

I originally just wanted to sync one github file with one data element and bake some _real_
version control into my data elements. Not that they change that often, but hey, some do,
especially when you start enhancing existing libraries that Launch is responsible for. For example,
scripts that add visitor metadata to chat applications, or functions that trigger Qualtrics Site Intercept popups
are the first things that come to mind. Plus, this is just cool and something I always figured was possible and
that someone other than me would do it. Well, in true _sua sponte_ manner, I just did it myself.

_Everything here should be considered proof of concept! I am not responsible if you start syncing directly
to production! Proceed with caution!_

## So how exactly does it work?

More hooks than a bait shop, more callbacks than a...teenager with a busted voicemail? I don't know I couldn't think of anything. Here is how it works:

- Initial Setup of data elements in Launch and files in Github
- Github push webhook sends a push event to an API gateway. I'll call this the **Webhook Gateway**.
  - _API is protected & verified via github personal access token_
- The **Webhook Gateway** checks the push for relevant files,
  - _don't want to update launch when someone updates `README.md`_
  - don't want to proceed if ldflsjflsjfdlsj
- Once the push is verified, the **Webhook Gateway** invokes a lambda that calls the Github API and pulls the actual contents of the file(s) that were pushed. This is called **Extract Github Data**.
- **Extract Github Data** does exactly what it sounds like, it gets the actual code that I'm going to push to Launch. More importantly, it extracts the data element IDs which are stored in the Github file in order to sync the file with Launch.
  - Don't worry about exposing these IDs, a minified Launch library strips comments out so the Data element IDs won't be visible
- Once the file contents and data element IDs are extracted, **Extract Github Data** invokes another lambda that starts talking to Launch. I'll call this **Build Launch Development Library**
- **Build Launch Development Library** takes the new data from Github with corresponding data element IDs and updates the data elements, and builds a development Launch library with the new changes.
  - This part took me the longest to figure out
- Now, I _could_ stop here with a built dev library that I can go in and publish on my own, but where is the fun in that? To take this project to its full potential. I made a Launch callback endpoint that will push changes from Github (and only ones from Github) directly to Prod.
